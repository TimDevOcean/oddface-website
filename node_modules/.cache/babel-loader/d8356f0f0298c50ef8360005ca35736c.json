{"ast":null,"code":"var _jsxFileName = \"/Users/TIM/Desktop/DEXTOP/CODE PROJECTS/oddface/src/components/checkout/Payment.js\";\nimport React from 'react';\nimport PaystackPop from '@paystack/inline-js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Payment = _ref => {\n  let {\n    user,\n    checkoutData,\n    handleBackStep,\n    handleNextStep,\n    handleCheckout\n  } = _ref;\n\n  const paystackPay = e => {\n    e.preventDefault();\n    console.log(checkoutData);\n    let psreference = \"\";\n    const paystack = new PaystackPop();\n    paystack.newTransaction({\n      key: \"pk_test_0e824463d20818c6550d20220c1cffb88aac11e6\",\n      amount: checkoutData.live.subtotal.raw * 100,\n      firstname: user.firstName,\n      lastname: user.lastName,\n      email: user.email,\n\n      onSuccess(transaction) {\n        let message = `Successfull Reference ${transaction.reference}`;\n        console.log(message);\n        psreference = transaction.reference;\n        handleNextStep(e, \"confirmation\");\n      },\n\n      onCancel() {\n        console.log(\"Transaction canceled.\");\n      }\n\n    });\n    const orderData = {\n      payment: {\n        gateway: \"paystack\",\n        paystack: {\n          reference: psreference\n        }\n      },\n      shipping: {\n        name: \"stander\",\n        street: user.address,\n        town_city: user.city,\n        county_state: user.shippingSubdivision,\n        postal_zip_code: user.postcode,\n        country: user.shippingCountry\n      },\n      customer: {\n        firstname: user.firstName,\n        lastname: user.lastName,\n        email: user.email\n      },\n      line_items: checkoutData.live.line_items,\n      fulfillment: {\n        shipping_method: user.shippingOptions\n      }\n    };\n    handleCheckout(checkoutData.id, orderData);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: paystackPay,\n      children: [\"Pay \", checkoutData.live.subtotal.formatted_with_symbol]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 14\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: e => handleBackStep(e, \"order-details\"),\n      children: \"Back\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n};\n\n_c = Payment;\nexport default Payment;\n\nvar _c;\n\n$RefreshReg$(_c, \"Payment\");","map":{"version":3,"names":["React","PaystackPop","Payment","user","checkoutData","handleBackStep","handleNextStep","handleCheckout","paystackPay","e","preventDefault","console","log","psreference","paystack","newTransaction","key","amount","live","subtotal","raw","firstname","firstName","lastname","lastName","email","onSuccess","transaction","message","reference","onCancel","orderData","payment","gateway","shipping","name","street","address","town_city","city","county_state","shippingSubdivision","postal_zip_code","postcode","country","shippingCountry","customer","line_items","fulfillment","shipping_method","shippingOptions","id","formatted_with_symbol"],"sources":["/Users/TIM/Desktop/DEXTOP/CODE PROJECTS/oddface/src/components/checkout/Payment.js"],"sourcesContent":["import React from 'react';\nimport PaystackPop from '@paystack/inline-js';\n\nconst Payment = ({\n    user,\n    checkoutData,\n    handleBackStep,\n    handleNextStep,\n    handleCheckout,\n  }) => {\n\n    const paystackPay = (e) => {\n        e.preventDefault()\n        console.log(checkoutData)\n\n        let psreference = \"\";\n\n        const paystack = new PaystackPop()\n        paystack.newTransaction({\n            key: \"pk_test_0e824463d20818c6550d20220c1cffb88aac11e6\",\n            amount: checkoutData.live.subtotal.raw * 100,\n            firstname: user.firstName,\n            lastname: user.lastName,\n            email: user.email,\n            onSuccess(transaction){\n                let message = `Successfull Reference ${transaction.reference}`\n                console.log(message);\n                psreference = transaction.reference; \n                handleNextStep(e, \"confirmation\");\n            },\n            onCancel(){\n                console.log(\"Transaction canceled.\")\n            }\n        })\n\n        const orderData = {\n            payment: {\n              gateway: \"paystack\",\n              paystack: {\n                reference: psreference,\n              },\n            },\n            shipping: {\n              name: \"stander\",\n              street: user.address,\n              town_city: user.city,\n              county_state: user.shippingSubdivision,\n              postal_zip_code: user.postcode,\n              country: user.shippingCountry,\n            },\n            customer: {\n              firstname: user.firstName,\n              lastname: user.lastName,\n              email: user.email,\n            },\n            line_items: checkoutData.live.line_items,\n            fulfillment: { shipping_method: user.shippingOptions },\n          };\n    \n          handleCheckout(checkoutData.id, orderData);\n          \n    }\n\n\n    return (\n        <>\n             <button onClick={paystackPay}>\n                  Pay {checkoutData.live.subtotal.formatted_with_symbol}\n            </button>\n\n            <button\n                  onClick={(e) => handleBackStep(e, \"order-details\")}\n                >\n                  Back\n            </button>\n        </>\n    )\n};\n\n\n\nexport default Payment;"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,WAAP,MAAwB,qBAAxB;;;;AAEA,MAAMC,OAAO,GAAG,QAMR;EAAA,IANS;IACbC,IADa;IAEbC,YAFa;IAGbC,cAHa;IAIbC,cAJa;IAKbC;EALa,CAMT;;EAEJ,MAAMC,WAAW,GAAIC,CAAD,IAAO;IACvBA,CAAC,CAACC,cAAF;IACAC,OAAO,CAACC,GAAR,CAAYR,YAAZ;IAEA,IAAIS,WAAW,GAAG,EAAlB;IAEA,MAAMC,QAAQ,GAAG,IAAIb,WAAJ,EAAjB;IACAa,QAAQ,CAACC,cAAT,CAAwB;MACpBC,GAAG,EAAE,kDADe;MAEpBC,MAAM,EAAEb,YAAY,CAACc,IAAb,CAAkBC,QAAlB,CAA2BC,GAA3B,GAAiC,GAFrB;MAGpBC,SAAS,EAAElB,IAAI,CAACmB,SAHI;MAIpBC,QAAQ,EAAEpB,IAAI,CAACqB,QAJK;MAKpBC,KAAK,EAAEtB,IAAI,CAACsB,KALQ;;MAMpBC,SAAS,CAACC,WAAD,EAAa;QAClB,IAAIC,OAAO,GAAI,yBAAwBD,WAAW,CAACE,SAAU,EAA7D;QACAlB,OAAO,CAACC,GAAR,CAAYgB,OAAZ;QACAf,WAAW,GAAGc,WAAW,CAACE,SAA1B;QACAvB,cAAc,CAACG,CAAD,EAAI,cAAJ,CAAd;MACH,CAXmB;;MAYpBqB,QAAQ,GAAE;QACNnB,OAAO,CAACC,GAAR,CAAY,uBAAZ;MACH;;IAdmB,CAAxB;IAiBA,MAAMmB,SAAS,GAAG;MACdC,OAAO,EAAE;QACPC,OAAO,EAAE,UADF;QAEPnB,QAAQ,EAAE;UACRe,SAAS,EAAEhB;QADH;MAFH,CADK;MAOdqB,QAAQ,EAAE;QACRC,IAAI,EAAE,SADE;QAERC,MAAM,EAAEjC,IAAI,CAACkC,OAFL;QAGRC,SAAS,EAAEnC,IAAI,CAACoC,IAHR;QAIRC,YAAY,EAAErC,IAAI,CAACsC,mBAJX;QAKRC,eAAe,EAAEvC,IAAI,CAACwC,QALd;QAMRC,OAAO,EAAEzC,IAAI,CAAC0C;MANN,CAPI;MAedC,QAAQ,EAAE;QACRzB,SAAS,EAAElB,IAAI,CAACmB,SADR;QAERC,QAAQ,EAAEpB,IAAI,CAACqB,QAFP;QAGRC,KAAK,EAAEtB,IAAI,CAACsB;MAHJ,CAfI;MAoBdsB,UAAU,EAAE3C,YAAY,CAACc,IAAb,CAAkB6B,UApBhB;MAqBdC,WAAW,EAAE;QAAEC,eAAe,EAAE9C,IAAI,CAAC+C;MAAxB;IArBC,CAAlB;IAwBE3C,cAAc,CAACH,YAAY,CAAC+C,EAAd,EAAkBpB,SAAlB,CAAd;EAEL,CAlDD;;EAqDA,oBACI;IAAA,wBACK;MAAQ,OAAO,EAAEvB,WAAjB;MAAA,mBACUJ,YAAY,CAACc,IAAb,CAAkBC,QAAlB,CAA2BiC,qBADrC;IAAA;MAAA;MAAA;MAAA;IAAA,QADL,eAKI;MACM,OAAO,EAAG3C,CAAD,IAAOJ,cAAc,CAACI,CAAD,EAAI,eAAJ,CADpC;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QALJ;EAAA,gBADJ;AAaH,CA1ED;;KAAMP,O;AA8EN,eAAeA,OAAf"},"metadata":{},"sourceType":"module"}